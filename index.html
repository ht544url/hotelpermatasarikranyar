<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERMATA SARI - ROOM 132 MASTER SYSTEM</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Orbitron:wght@400;500;700;900&family=Montserrat:wght@100;300;400;600;800&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

    <style>
        /* --- [1] ADVANCED CSS ARCHITECTURE --- */
        :root {
            --gold-primary: #D4AF37;
            --gold-bright: #FFD700;
            --gold-dark: #8B6508;
            --neon: 0 0 20px rgba(212, 175, 55, 0.6), 0 0 40px rgba(212, 175, 55, 0.3);
            --bg-black: #020202;
            --surface-1: rgba(255, 255, 255, 0.05);
            --surface-2: rgba(255, 255, 255, 0.1);
            --surface-3: rgba(255, 255, 255, 0.15);
            --red-danger: #c0392b;
            --transition-ultra: all 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            --transition-long: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
            --transition-mid: all 0.4s ease;
        }

        * {
            margin: 0; padding: 0; box-sizing: border-box;
            outline: none; -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-black);
            color: #FFFFFF;
            font-family: 'Montserrat', sans-serif;
            height: 100vh; width: 100vw;
            overflow: hidden; cursor: none;
            perspective: 2000px;
        }

        /* --- [2] BACKGROUND PARTICLE ENGINE --- */
        #particle-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
        }

        /* --- [3] HEADER ENGINE --- */
        header {
            height: 18vh; padding: 0 80px; display: flex; justify-content: space-between;
            align-items: center; background: linear-gradient(180deg, rgba(0,0,0,0.85) 0%, transparent 100%);
            border-bottom: 1px solid rgba(212,175,55,0.25); position: relative; z-index: 1000;
        }

        .brand-logo { display: flex; flex-direction: column; }
        .brand-logo h1 {
            font-family: 'Cinzel', serif; font-size: 3.8rem; color: var(--gold-primary);
            text-shadow: var(--neon); letter-spacing: 15px; text-transform: uppercase;
        }
        .brand-logo span { font-size: 0.9rem; letter-spacing: 8px; color: #888; margin-top: -10px; font-weight: 300; }

        .header-widgets { display: flex; align-items: center; gap: 40px; }
        .widget-item { text-align: right; border-left: 1px solid rgba(255,255,255,0.15); padding-left: 30px; }
        .time-display { font-family: 'Orbitron'; font-size: 3.2rem; font-weight: 900; color: #fff; text-shadow: 0 0 15px rgba(255,255,255,0.2); }
        .date-display { font-size: 1rem; color: var(--gold-primary); text-transform: uppercase; font-weight: 700; letter-spacing: 2px; }

        /* --- [4] MAIN GRID ARCHITECTURE --- */
        main {
            display: grid; grid-template-columns: 450px 1fr; height: 82vh;
            padding: 40px 80px; gap: 60px;
        }

        /* --- [5] NAVIGATION SYSTEM (3D PERSPECTIVE) --- */
        .sidebar-nav { display: flex; flex-direction: column; gap: 18px; position: relative; z-index: 500; }

        .nav-link {
            background: var(--surface-1); border: 1px solid rgba(255,255,255,0.08);
            padding: 38px 30px; border-radius: 20px; display: flex; align-items: center;
            gap: 28px; transition: var(--transition-long); outline: none;
            position: relative; transform-style: preserve-3d; text-decoration: none;
        }

        .nav-link i { font-size: 2.4rem; transition: var(--transition-mid); color: var(--gold-primary); filter: drop-shadow(0 0 5px rgba(212,175,55,0.3)); }
        .nav-link .nav-text { display: flex; flex-direction: column; }
        .nav-link .main-label { font-size: 1.7rem; font-weight: 800; color: rgba(255,255,255,0.5); transition: 0.4s; }
        .nav-link .sub-label { font-size: 0.8rem; color: var(--gold-primary); opacity: 0; transform: translateY(10px); transition: 0.4s; font-weight: 600; letter-spacing: 1px; }

        .nav-link:focus, .nav-link.active {
            background: linear-gradient(90deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05));
            border-color: var(--gold-primary); box-shadow: var(--neon);
            transform: rotateY(15deg) translateX(30px) scale(1.06);
        }

        .nav-link:focus .main-label { color: #fff; text-shadow: 0 0 15px #fff; }
        .nav-link:focus .sub-label { opacity: 1; transform: translateY(0); }
        .nav-link:focus i { transform: translateZ(60px) scale(1.3); filter: drop-shadow(0 0 10px var(--gold-primary)); }

        /* --- [6] CONTENT ENGINE (GLASSMORPHISM) --- */
        .content-frame {
            background: rgba(10, 10, 10, 0.9); border-radius: 60px;
            border: 1px solid rgba(255,255,255,0.12); padding: 70px;
            position: relative; backdrop-filter: blur(40px);
            box-shadow: 0 60px 120px rgba(0,0,0,1); overflow: hidden;
        }

        .section-view {
            display: none; height: 100%; width: 100%;
            animation: sectionIn 1.2s var(--transition-long) forwards;
        }

        @keyframes sectionIn {
            from { opacity: 0; transform: scale(0.85) translateZ(-600px); filter: blur(30px); }
            to { opacity: 1; transform: scale(1) translateZ(0); filter: blur(0); }
        }

        .section-view.active { display: block; }

        /* --- [7] HOME COMPONENT (PREMIUM SLIDER) --- */
        .home-grid { display: grid; grid-template-rows: 380px 1fr; gap: 45px; }
        .image-slider {
            width: 100%; height: 100%; border-radius: 40px; overflow: hidden;
            position: relative; border: 2px solid var(--gold-primary);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .slide-item {
            position: absolute; inset: 0; background-size: cover; background-position: center;
            opacity: 0; transition: opacity 2s ease-in-out; transform: scale(1.1);
        }
        .slide-item.active { opacity: 1; transform: scale(1); transition: opacity 2s ease, transform 10s linear; }
        .slide-overlay { position: absolute; inset: 0; background: linear-gradient(0deg, rgba(0,0,0,0.9) 0%, transparent 60%); }

        .welcome-text h2 { font-family: 'Cinzel'; font-size: 4.8rem; color: var(--gold-primary); text-shadow: var(--neon); margin-bottom: 20px; }
        .welcome-text p { font-size: 1.8rem; color: #bbb; line-height: 1.6; max-width: 900px; }

        /* --- [8] PRAYER ENGINE (KARANGANYAR) --- */
        .prayer-container { display: flex; flex-direction: column; gap: 40px; }
        .prayer-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 25px; }
        .prayer-card {
            background: var(--surface-1); padding: 45px 25px; border-radius: 35px;
            text-align: center; border: 1px solid rgba(212,175,55,0.15); transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
            position: relative; overflow: hidden;
        }
        .prayer-card::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(180deg, var(--gold-primary), transparent); opacity: 0; transition: 0.6s; }
        .prayer-card.active-now { border-color: var(--gold-primary); box-shadow: var(--neon); transform: translateY(-20px); background: rgba(212,175,55,0.08); }
        .prayer-card.active-now::after { opacity: 0.1; }
        .prayer-name { font-size: 1.4rem; font-weight: 800; color: var(--gold-primary); margin-bottom: 25px; letter-spacing: 3px; }
        .prayer-time { font-family: 'Orbitron'; font-size: 2.6rem; font-weight: 900; }

        /* --- [9] RESTAURANT ENGINE (ULTRA DETAIL) --- */
        .dining-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; height: 100%; }
        .menu-category h3 { font-family: 'Cinzel'; color: var(--gold-primary); letter-spacing: 6px; margin-bottom: 30px; border-bottom: 2px solid var(--gold-dark); display: inline-block; padding-bottom: 5px; }
        .food-item {
            background: var(--surface-1); padding: 30px; border-radius: 25px;
            display: flex; justify-content: space-between; align-items: center;
            border-left: 6px solid transparent; transition: 0.4s; margin-bottom: 15px;
        }
        .food-item:focus, .food-item:hover { background: var(--surface-2); border-left-color: var(--gold-primary); transform: translateX(15px); }
        .food-details h4 { font-size: 1.6rem; color: #fff; margin-bottom: 8px; }
        .food-details p { font-size: 0.95rem; color: #888; font-style: italic; }
        .food-price { font-family: 'Orbitron'; color: var(--gold-primary); font-size: 1.6rem; font-weight: 800; }

        /* --- [10] ADZAN ALARM ENGINE --- */
        .adzan-alarm {
            position: fixed; inset: 0; background: rgba(0,0,0,0.99); z-index: 100000;
            display: none; flex-direction: column; justify-content: center;
            align-items: center; text-align: center; backdrop-filter: blur(60px);
        }
        .adzan-ring {
            width: 320px; height: 320px; border: 12px solid var(--gold-primary);
            border-radius: 50%; display: flex; justify-content: center;
            align-items: center; margin-bottom: 60px; animation: pulseGlow 2s infinite;
        }
        @keyframes pulseGlow { 0% { box-shadow: 0 0 0 0 rgba(212,175,55,0.8); transform: scale(1); } 70% { box-shadow: 0 0 0 120px rgba(212,175,55,0); transform: scale(1.05); } 100% { box-shadow: 0 0 0 0 rgba(212,175,55,0); transform: scale(1); } }
        .adzan-text h1 { font-family: 'Cinzel'; font-size: 8rem; color: var(--gold-primary); text-shadow: var(--neon); }
        .adzan-text h2 { font-family: 'Orbitron'; font-size: 3.5rem; letter-spacing: 12px; margin-top: 25px; color: #fff; }

        /* --- [11] SCROLLBAR --- */
        ::-webkit-scrollbar { width: 12px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--gold-primary); border-radius: 20px; box-shadow: var(--neon); }

    </style>
</head>
<body onclick="enableAudioEngine()">

    <canvas id="particle-canvas"></canvas>
    <audio id="sfx-alarm" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>

    <div class="adzan-alarm" id="adzan-layer">
        <div class="adzan-ring"><i style="font-size: 12rem;">üïå</i></div>
        <div class="adzan-text">
            <h1 id="prayer-target">MAGHRIB</h1>
            <h2>WAKTUNYA SHOLAT</h2>
            <p style="font-size: 1.8rem; margin-top: 40px; color: #888; font-weight: 300;">KARANGANYAR & SEKITARNYA</p>
        </div>
        <button onclick="dismissAdzan()" style="margin-top: 80px; padding: 30px 100px; font-family: 'Orbitron'; background: var(--gold-primary); border: none; font-size: 2rem; font-weight: 900; border-radius: 60px; cursor: pointer; box-shadow: var(--neon);">CLOSE</button>
    </div>

    <header>
        <div class="brand-logo">
            <h1>Permata Sari</h1>
            <span>CONVENTION HALL & HOTEL</span>
        </div>
        <div class="header-widgets">
            <div class="widget-item">
                <div id="w-temp" style="font-family: 'Orbitron'; font-size: 2.2rem; color: var(--gold-primary);">26¬∞C</div>
                <div style="font-size: 0.9rem; letter-spacing: 3px; opacity: 0.7;">KARANGANYAR</div>
            </div>
            <div class="widget-item">
                <div class="time-display" id="clock-main">00:00:00</div>
                <div class="date-display" id="date-main">MEMUAT...</div>
            </div>
            <div class="widget-item" style="border: none;">
                <div style="background: linear-gradient(135deg, var(--gold-primary), var(--gold-dark)); color: #000; padding: 15px 40px; border-radius: 15px; text-align: center; box-shadow: var(--neon);">
                    <span style="font-size: 0.8rem; font-weight: 900; display: block; letter-spacing: 2px;">ROOM</span>
                    <span style="font-family: 'Orbitron'; font-size: 3rem; font-weight: 900;">132</span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <aside class="sidebar-nav">
            <a class="nav-link active" tabindex="0" onfocus="navigateTo('home')">
                <i>üè†</i>
                <div class="nav-text"><span class="main-label">BERANDA</span><span class="sub-label">Luxury Experience</span></div>
            </a>
            <a class="nav-link" tabindex="0" onfocus="navigateTo('sholat')">
                <i>üïå</i>
                <div class="nav-text"><span class="main-label">SHOLAT</span><span class="sub-label">Jadwal Karanganyar</span></div>
            </a>
            <a class="nav-link" tabindex="0" onfocus="navigateTo('dining')">
                <i>üçΩÔ∏è</i>
                <div class="nav-text"><span class="main-label">RESTO</span><span class="sub-label">Menu Room Service</span></div>
            </a>
            <a class="nav-link" tabindex="0" onfocus="navigateTo('facilities')">
                <i>üíé</i>
                <div class="nav-text"><span class="main-label">FASILITAS</span><span class="sub-label">Layanan Hotel</span></div>
            </a>
            <a class="nav-link" tabindex="0" onfocus="navigateTo('tourism')">
                <i>üó∫Ô∏è</i>
                <div class="nav-text"><span class="main-label">WISATA</span><span class="sub-label">Jelajah Kota</span></div>
            </a>
            <a class="nav-link" style="margin-top: auto; border-color: var(--red-danger);" onclick="window.location.reload()">
                <i style="color: var(--red-danger);">üì∫</i>
                <div class="nav-text"><span class="main-label" style="color: var(--red-danger);">RELOAD</span><span class="sub-label" style="color: var(--red-danger);">Reset System</span></div>
            </a>
        </aside>

        <section class="content-frame">
            
            <div id="sec-home" class="section-view active">
                <div class="home-grid">
                    <div class="image-slider">
                        <div class="slide-item active" style="background-image: url('https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=1600');"></div>
                        <div class="slide-item" style="background-image: url('https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?auto=format&fit=crop&w=1600');"></div>
                        <div class="slide-item" style="background-image: url('https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=1600');"></div>
                        <div class="slide-overlay"></div>
                    </div>
                    <div class="welcome-text">
                        <h2>Perfect Stay</h2>
                        <p>Selamat datang di Kamar 132. Permata Sari Hotel & Convention menghadirkan kemewahan di jantung Karanganyar. Nikmati seluruh fasilitas kami melalui kendali Smart TV ini.</p>
                        <div style="margin-top: 40px; display: flex; gap: 30px;">
                            <div style="flex:1; background: var(--surface-1); padding: 35px; border-radius: 25px; border-bottom: 6px solid var(--gold-primary);">
                                <small style="color: var(--gold-primary); font-weight: 800; letter-spacing: 2px;">WIFI ACCESS</small>
                                <h3 style="font-family: 'Orbitron'; font-size: 1.8rem; margin-top: 10px;">PERMATA_132_GOLD</h3>
                            </div>
                            <div style="flex:1; background: var(--surface-1); padding: 35px; border-radius: 25px; border-bottom: 6px solid var(--gold-primary);">
                                <small style="color: var(--gold-primary); font-weight: 800; letter-spacing: 2px;">ROOM STATUS</small>
                                <h3 style="font-family: 'Orbitron'; font-size: 1.8rem; margin-top: 10px;">PREMIUM CLEAN</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="sec-sholat" class="section-view">
                <h2 style="font-family: 'Cinzel'; font-size: 4rem; color: var(--gold-primary); margin-bottom: 10px;">Jadwal Sholat</h2>
                <p style="font-size: 1.4rem; color: #888; margin-bottom: 60px;">Wilayah Karanganyar & Sekitarnya (Auto-Update)</p>
                <div class="prayer-container">
                    <div class="prayer-grid" id="prayer-render-engine">
                        </div>
                    <div style="margin-top: 60px; padding: 45px; background: rgba(212,175,55,0.05); border-radius: 40px; border: 2px dashed var(--gold-primary); display: flex; gap: 40px; align-items: center;">
                        <span style="font-size: 5rem;">üîî</span>
                        <div>
                            <h3 style="font-size: 2.2rem; color: var(--gold-primary);">Sistem Pengingat Aktif</h3>
                            <p style="font-size: 1.3rem; opacity: 0.7; margin-top: 10px; line-height: 1.5;">Layar TV akan otomatis beralih ke mode Adzan saat waktu sholat tiba. Pastikan suara TV dalam keadaan menyala.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="sec-dining" class="section-view">
                <h2 style="font-family: 'Cinzel'; font-size: 4rem; color: var(--gold-primary); margin-bottom: 40px;">Permata Resto</h2>
                <div class="dining-layout">
                    <div class="menu-category">
                        <h3>MAIN COURSE</h3>
                        <div class="food-item" tabindex="0">
                            <div class="food-details"><h4>Nasi Goreng Permata</h4><p>Wagyu Beef, Fried Egg, Shrimp Crackers</p></div>
                            <div class="food-price">45K</div>
                        </div>
                        <div class="food-item" tabindex="0">
                            <div class="food-details"><h4>Soto Karanganyar</h4><p>Traditional Beef Soup with Local Herbs</p></div>
                            <div class="food-price">35K</div>
                        </div>
                        <div class="food-item" tabindex="0">
                            <div class="food-details"><h4>Iga Bakar Madu</h4><p>Premium Ribs with Forest Honey Glaze</p></div>
                            <div class="food-price">85K</div>
                        </div>
                    </div>
                    <div class="menu-category">
                        <h3>BEVERAGES</h3>
                        <div class="food-item" tabindex="0">
                            <div class="food-details"><h4>Wedang Uwuh</h4><p>Javanese Royal Herbal Drink</p></div>
                            <div class="food-price">20K</div>
                        </div>
                        <div class="food-item" tabindex="0">
                            <div class="food-details"><h4>Es Teller Permata</h4><p>Fresh Avocado, Jackfruit, Coconut</p></div>
                            <div class="food-price">30K</div>
                        </div>
                    </div>
                </div>
            </div>

           <div id="sec-facilities" class="section-view">
                <h2 style="font-family: 'Cinzel'; font-size: 4rem; color: var(--gold-primary); margin-bottom: 40px;">Info & Fasilitas</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
                    <div style="background: var(--surface-1); padding: 50px; border-radius: 40px; border-top: 10px solid var(--gold-primary);">
                        <h3 style="color: var(--gold-primary); font-size: 2rem; margin-bottom: 20px;">CONVENTION HALL</h3>
                        <p style="font-size: 1.4rem; line-height: 1.8; color: #ccc;">Gedung pertemuan termegah dengan kapasitas hingga 1.500 tamu. Ideal untuk resepsi pernikahan dan konferensi besar.</p>
                    </div>
                    <div style="background: var(--surface-1); padding: 50px; border-radius: 40px; border-top: 10px solid var(--gold-primary);">
                        <h3 style="color: var(--gold-primary); font-size: 2rem; margin-bottom: 20px;">LOBBY LOUNGE</h3>
                        <p style="font-size: 1.4rem; line-height: 1.8; color: #ccc;">Nikmati suasana santai di lobby lounge kami yang menyediakan aneka kopi nusantara dan kudapan ringan.</p>
                    </div>
                    <div style="grid-column: span 2; background: rgba(192, 57, 43, 0.15); padding: 45px; border-radius: 40px; border-left: 15px solid var(--red-danger);">
                        <h3 style="color: #e74c3c; font-size: 1.8rem; margin-bottom: 10px;">CATATAN PENTING</h3>
                        <p style="font-size: 1.4rem; color: #fff;">Kami menginformasikan bahwa Permata Sari Hotel & Convention tidak menyediakan fasilitas kolam renang.</p>
                    </div>
                </div>
            </div>

            <div id="sec-tourism" class="section-view">
                <h2 style="font-family: 'Cinzel'; font-size: 4rem; color: var(--gold-primary); margin-bottom: 40px;">Eksplorasi Karanganyar</h2>
                <div class="dining-layout">
                    <div style="background: url('https://images.unsplash.com/photo-1596402184320-417e7178b2cd?auto=format&fit=crop&w=800') center; background-size: cover; border-radius: 40px; border: 2px solid var(--gold-primary);"></div>
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <div style="background: var(--surface-1); padding: 30px; border-radius: 25px;">
                            <h4 style="color: var(--gold-primary); font-size: 1.5rem;">Grojogan Sewu Tawangmangu</h4>
                            <p style="margin-top: 10px; color: #aaa;">Air terjun paling ikonik di lereng Gunung Lawu. Jarak tempuh: 35 Menit.</p>
                        </div>
                        <div style="background: var(--surface-1); padding: 30px; border-radius: 25px;">
                            <h4 style="color: var(--gold-primary); font-size: 1.5rem;">Kebun Teh Kemuning</h4>
                            <p style="margin-top: 10px; color: #aaa;">Hamparan kebun teh dengan udara sejuk dan spot foto menawan. Jarak tempuh: 40 Menit.</p>
                        </div>
                        <div style="background: var(--surface-1); padding: 30px; border-radius: 25px;">
                            <h4 style="color: var(--gold-primary); font-size: 1.5rem;">Candi Cetho & Sukuh</h4>
                            <p style="margin-top: 10px; color: #aaa;">Candi bersejarah dengan arsitektur unik di ketinggian Lawu. Jarak tempuh: 50 Menit.</p>
                        </div>
                    </div>
                </div>
            </div>

        </section>
    </main>

    <script>
        const PRAYER_DB = [
            { id: 'subuh', label: 'SUBUH', time: '04:12' },
            { id: 'dzuhur', label: 'DZUHUR', time: '11:45' },
            { id: 'ashar', label: 'ASHAR', time: '15:10' },
            { id: 'maghrib', label: 'MAGHRIB', time: '17:58' },
            { id: 'isya', label: 'ISYA', time: '19:12' }
        ];

        let audioActivated = false;

        // 1. CLOCK & ALARM ENGINE
        function initSystemTime() {
            const clockEl = document.getElementById('clock-main');
            const dateEl = document.getElementById('date-main');
            
            setInterval(() => {
                const now = new Date();
                const h = String(now.getHours()).padStart(2, '0');
                const m = String(now.getMinutes()).padStart(2, '0');
                const s = String(now.getSeconds()).padStart(2, '0');
                
                clockEl.innerText = `${h}:${m}:${s}`;
                dateEl.innerText = now.toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });

                // Check Alarm Every 00 Second
                if(s === "00") {
                    PRAYER_DB.forEach(p => {
                        if(p.time === `${h}:${m}`) launchAdzan(p.label);
                    });
                }
            }, 1000);
        }

        function launchAdzan(label) {
            document.getElementById('prayer-target').innerText = label;
            document.getElementById('adzan-layer').style.display = 'flex';
            if(audioActivated) {
                const audio = document.getElementById('sfx-alarm');
                audio.currentTime = 0;
                audio.play();
            }
        }

        function dismissAdzan() {
            document.getElementById('adzan-layer').style.display = 'none';
        }

        function enableAudioEngine() {
            if(!audioActivated) {
                document.getElementById('sfx-alarm').load();
                audioActivated = true;
            }
        }

        // 2. NAVIGATION ENGINE
        function navigateTo(id) {
            document.querySelectorAll('.section-view').forEach(s => s.classList.remove('active'));
            document.getElementById(`sec-${id}`).classList.add('active');
            
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            // Styling is handled by CSS :focus for TV remote experience
        }

        // 3. RENDER ENGINE
        function renderPrayers() {
            const container = document.getElementById('prayer-render-engine');
            container.innerHTML = PRAYER_DB.map(p => `
                <div class="prayer-card" id="card-${p.id}">
                    <div class="prayer-name">${p.label}</div>
                    <div class="prayer-time">${p.time}</div>
                </div>
            `).join('');
        }

        // 4. IMAGE SLIDER ENGINE
        let activeSlide = 0;
        function startSlider() {
            const slides = document.querySelectorAll('.slide-item');
            setInterval(() => {
                slides[activeSlide].classList.remove('active');
                activeSlide = (activeSlide + 1) % slides.length;
                slides[activeSlide].classList.add('active');
            }, 7000);
        }

        // 5. PARTICLE BACKGROUND (CANVAS)
        function startParticles() {
            const canvas = document.getElementById('particle-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let particles = [];
            for(let i=0; i<120; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2 + 1,
                    speed: Math.random() * 0.5 + 0.1,
                    opacity: Math.random()
                });
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "rgba(212, 175, 55, 0.3)";
                particles.forEach(p => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();
                    p.y += p.speed;
                    if(p.y > canvas.height) p.y = -10;
                });
                requestAnimationFrame(draw);
            }
            draw();
        }

        // 6. REMOTE CONTROL KEYBOARD LISTENER
        document.addEventListener('keydown', (e) => {
            const navItems = Array.from(document.querySelectorAll('.nav-link'));
            let currentFocused = navItems.indexOf(document.activeElement);

            if(e.key === 'ArrowDown') {
                e.preventDefault();
                currentFocused = (currentFocused + 1) % navItems.length;
                navItems[currentFocused].focus();
            } else if(e.key === 'ArrowUp') {
                e.preventDefault();
                currentFocused = (currentFocused - 1 + navItems.length) % navItems.length;
                navItems[currentFocused].focus();
            }
        });

        // INIT ALL
        window.onload = () => {
            initSystemTime();
            renderPrayers();
            startSlider();
            startParticles();
            // Force focus to first menu for TV remote
            setTimeout(() => {
                document.querySelector('.nav-link').focus();
            }, 100);
        };
    </script>
</body>
</html>